
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>port</title>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjnR2H5bYr0tUZR9HWd0Rcoiy6C8dbKWo&callback=initMap&region=kr"></script><script defer src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjnR2H5bYr0tUZR9HWd0Rcoiy6C8dbKWo&callback=initMap&region=kr"></script>

<script type="text/javascript">
    const global_variable_cargo_locations ={{cargo_locations|safe}}
    const global_variable_cargo_size ={{cargo_size_text|safe}}
    const global_variable_cargo_area ={{cargo_area_text|safe}}
    const global_variable_cargo_date_start ={{cargo_date_start_text|safe}}
    const global_variable_cargo_date_end ={{cargo_date_end_text|safe}}

</script>

<script type="text/javascript" src="/static/js/port_cargo.js"></script>

</head>

<body>
  <h1>good day cargo_port html   </h1>
  <table>
      <thead>
        <tr>
            <form action="index_cargo" method="post">
                {% csrf_token %}
                 <td>
                    <label>area </label>
                    <select id="cargo_area" name="cargo_area">
                        <option selected value="Click Here">select</option>
                        <option value="pacific"> pacific </option>
                        <option value="indian"> indian  </option>
                        <option value="atlantic"> atlantic </option>
                        <option value="med"> mediterranean </option>
                        <option value="sa"> south america </option>
                    </select>
                </td>
                <td>
                    <label>cargo-size</label>
                    <select id="cargo_size" name="cargo_size">
                        <option selected value="Click Here">select</option>
                        <option value="10000" >10,000 - 20,000 </option>
                        <option value="20000" >20,000 - 30,000 </option>
                        <option value="30000" >30,000 - 40,000 </option>
                        <option value="40000" >40,000 - 50,000 </option>
                        <option value="50000" >50,000 - 60,000 </option>
                        <option value="60000" >60,000 - 70,000 </option>
                        <option value="70000" >70,000 - 90,000 </option>
                    </select>
                </td>
                <td>
                    <label>start_date</label>
                    <input type="date" id="cargo_date_start" name="cargo_date_start" value=" "
                            min="min_date" max="max_date">
                    <label>end date</label>
                    <input type="date" id="cargo_date_end" name="cargo_date_end" value=" "
                            min="min_date" max="max_date">
                </td>
                <td>
                    <input type="submit" value="search" class="btn">
                </td>
            </form>

        </tr>
  </table>

  <table>
     <thead align="center">
        <tr class="thead-dark">
            <th>cargo_name</th>
            <th>quantity</th>
            <th>laydate</th>
            <th>canceldate</th>
            <th>loadingport</th>
            <th>dischargingport</th>
        </tr>
     </thead>
     <tbody id="cargo_list" align="left"></tbody>
  </table>
  <br>
  <br>
  <div id="map" style="width:80%; height: 70vh;"></div>

<script>
let today = new Date()

const min_date = new Date(today)
const max_date = new Date(today)
console.log('const min_date :',min_date )
min_date.setDate(today.getDate() - 90)
max_date.setDate(today.getDate() + 180)
console.log('min_date :',  min_date)
console.log('max_date :',  max_date)


if (cargo_date_start = null) {
    document.getElementById('cargo_date_start').value = new Date().toISOString().slice(0, 10)
    document.getElementById('cargo_date_end').value = new Date().toISOString().slice(0, 10)
    }else{
        document.getElementById('cargo_date_start').value = global_variable_cargo_date_start
        document.getElementById('cargo_date_end').value = global_variable_cargo_date_end
    }

document.querySelector('#cargo_size [value="' + global_variable_cargo_size + '"]').selected = true;
document.querySelector('#cargo_area [value="' + global_variable_cargo_area + '"]').selected = true;
</script>

<script type="text/javascript" src="/static/js/port_ship_select.js"></script>
<script type="text/javascript" src="/static/js/locationList_cargo.js"></script>
<script type="text/javascript" src="/static/js/date.js"></script>

</body>
</html>

